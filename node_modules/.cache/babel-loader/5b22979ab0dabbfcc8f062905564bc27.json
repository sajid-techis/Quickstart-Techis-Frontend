{"ast":null,"code":"import API from '../../API';\nimport { fetchPostsAction, addPostAction, deletePostAction } from './actions';\nconst api = new API();\nexport const fetchPosts = params => {\n  return dispatch => {\n    return api.getPosts(params).then(posts => {\n      dispatch(fetchPostsAction(posts));\n    }).catch(error => {\n      alert('Failed to connect API: /posts/');\n    });\n  };\n};\nexport const deletePost = id => {\n  return dispatch => {\n    return api.deletePost(id).then(() => {\n      dispatch(deletePostAction(id));\n    }).catch(error => {\n      alert('Failed to connect API to delete a post');\n      console.log(error);\n    });\n  };\n};\nexport const addPost = postBody => {\n  const {\n    name,\n    body\n  } = postBody;\n  return dispatch => {\n    // Validation\n    if (name === '' || body === '') {\n      alert('Please fill out name and body.');\n      return false;\n    }\n\n    return api.addPost(postBody).then(post => {\n      dispatch(addPostAction(post));\n    }).catch(error => {\n      alert('Failed to connect API to add a post');\n      console.log(error);\n    });\n  };\n};","map":{"version":3,"names":["API","fetchPostsAction","addPostAction","deletePostAction","api","fetchPosts","params","dispatch","getPosts","then","posts","catch","error","alert","deletePost","id","console","log","addPost","postBody","name","body","post"],"sources":["/Users/musubimanagement-techis/Desktop/techis-wd-forum-django-react/frontend/src/reducks/posts/operations.js"],"sourcesContent":["import API from '../../API';\nimport { fetchPostsAction, addPostAction, deletePostAction } from './actions';\n\nconst api = new API();\n\nexport const fetchPosts = params => {\n    return dispatch => {\n        return api\n            .getPosts(params)\n            .then(posts => {\n                dispatch(fetchPostsAction(posts));\n            })\n            .catch(error => {\n                alert('Failed to connect API: /posts/');\n            });\n    };\n};\n\nexport const deletePost = id => {\n    return dispatch => {\n        return api\n            .deletePost(id)\n            .then(() => {\n                dispatch(deletePostAction(id));\n            })\n            .catch(error => {\n                alert('Failed to connect API to delete a post');\n                console.log(error);\n            });\n    };\n};\n\nexport const addPost = postBody => {\n    const { name, body } = postBody;\n    return dispatch => {\n        // Validation\n        if (name === '' || body === '') {\n            alert('Please fill out name and body.');\n            return false;\n        }\n\n        return api\n            .addPost(postBody)\n            .then(post => {\n                dispatch(addPostAction(post));\n            })\n            .catch(error => {\n                alert('Failed to connect API to add a post');\n                console.log(error);\n            });\n    };\n};\n"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,WAAhB;AACA,SAASC,gBAAT,EAA2BC,aAA3B,EAA0CC,gBAA1C,QAAkE,WAAlE;AAEA,MAAMC,GAAG,GAAG,IAAIJ,GAAJ,EAAZ;AAEA,OAAO,MAAMK,UAAU,GAAGC,MAAM,IAAI;EAChC,OAAOC,QAAQ,IAAI;IACf,OAAOH,GAAG,CACLI,QADE,CACOF,MADP,EAEFG,IAFE,CAEGC,KAAK,IAAI;MACXH,QAAQ,CAACN,gBAAgB,CAACS,KAAD,CAAjB,CAAR;IACH,CAJE,EAKFC,KALE,CAKIC,KAAK,IAAI;MACZC,KAAK,CAAC,gCAAD,CAAL;IACH,CAPE,CAAP;EAQH,CATD;AAUH,CAXM;AAaP,OAAO,MAAMC,UAAU,GAAGC,EAAE,IAAI;EAC5B,OAAOR,QAAQ,IAAI;IACf,OAAOH,GAAG,CACLU,UADE,CACSC,EADT,EAEFN,IAFE,CAEG,MAAM;MACRF,QAAQ,CAACJ,gBAAgB,CAACY,EAAD,CAAjB,CAAR;IACH,CAJE,EAKFJ,KALE,CAKIC,KAAK,IAAI;MACZC,KAAK,CAAC,wCAAD,CAAL;MACAG,OAAO,CAACC,GAAR,CAAYL,KAAZ;IACH,CARE,CAAP;EASH,CAVD;AAWH,CAZM;AAcP,OAAO,MAAMM,OAAO,GAAGC,QAAQ,IAAI;EAC/B,MAAM;IAAEC,IAAF;IAAQC;EAAR,IAAiBF,QAAvB;EACA,OAAOZ,QAAQ,IAAI;IACf;IACA,IAAIa,IAAI,KAAK,EAAT,IAAeC,IAAI,KAAK,EAA5B,EAAgC;MAC5BR,KAAK,CAAC,gCAAD,CAAL;MACA,OAAO,KAAP;IACH;;IAED,OAAOT,GAAG,CACLc,OADE,CACMC,QADN,EAEFV,IAFE,CAEGa,IAAI,IAAI;MACVf,QAAQ,CAACL,aAAa,CAACoB,IAAD,CAAd,CAAR;IACH,CAJE,EAKFX,KALE,CAKIC,KAAK,IAAI;MACZC,KAAK,CAAC,qCAAD,CAAL;MACAG,OAAO,CAACC,GAAR,CAAYL,KAAZ;IACH,CARE,CAAP;EASH,CAhBD;AAiBH,CAnBM"},"metadata":{},"sourceType":"module"}